(function(){"use strict";var e={7203:function(e,t,r){var n=r(9242),a=r(3396),o=r(7139);const i=(0,a._)("div",{class:"weather-wrapper"},null,-1);function s(e,t,r,n,s,l){const u=(0,a.up)("CurrentDate"),c=(0,a.up)("WeatherCard");return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)("app-wrapper "+l.timeOfDay)},[(0,a.Wm)(u),(0,a.Wm)(c),i],2)}const l=e=>((0,a.dD)("data-v-204a334f"),e=e(),(0,a.Cn)(),e),u={class:"dateBlock"},c=l((()=>(0,a._)("span",{class:"material-symbols-outlined"}," calendar_month ",-1))),h={class:"date"};function d(e,t,r,n,i,s){return(0,a.wg)(),(0,a.iD)("div",u,[c,(0,a._)("div",h,(0,o.zw)(this.currentDate.toLocaleString("en-us",{weekday:"long"}))+" "+(0,o.zw)(this.currentDate.getDate())+" "+(0,o.zw)(this.currentDate.toLocaleString("en-us",{month:"long"})),1)])}var p={name:"CurrentDate",data(){return{currentDate:null}},methods:{setCurrentDate(){this.currentDate=new Date}},created(){this.setCurrentDate()}},g=r(89);const m=(0,g.Z)(p,[["render",d],["__scopeId","data-v-204a334f"]]);var w=m;const y=e=>((0,a.dD)("data-v-068a5bc4"),e=e(),(0,a.Cn)(),e),_={class:"main-wrapper"},f={class:"content-wrapper"},v={class:"block-left"},b={key:0,class:"location-block"},D=y((()=>(0,a._)("span",{class:"material-symbols-outlined"}," near_me ",-1))),k={key:1,class:"temperature-block"},W={class:"temperature-wrapper"},C={class:"main-weather-icon material-symbols-outlined"},z={class:"temperature"},O={class:"temperature-apparent"},H={key:0,className:"block-right"},L={class:"wind-block"},j=y((()=>(0,a._)("span",{class:"material-symbols-outlined"}," air ",-1))),I={class:"humidity-block"},S=y((()=>(0,a._)("span",{class:"material-symbols-outlined"}," humidity_low ",-1))),q={class:"pressure-block"},P=y((()=>(0,a._)("span",{class:"material-symbols-outlined"}," arrow_circle_up ",-1))),x={key:0,class:"error"},B={key:1,class:"loading-wrapper"},N=y((()=>(0,a._)("p",{class:"loading"},"Getting your location",-1))),$=[N];function E(e,t,r,n,i,s){return(0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("div",f,[(0,a._)("div",v,[i.city?((0,a.wg)(),(0,a.iD)("div",b,[D,(0,a._)("p",null,(0,o.zw)(i.city),1)])):(0,a.kq)("",!0),i.resultWeather?((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("div",W,[(0,a._)("span",C,(0,o.zw)(this.iconName),1),(0,a._)("p",z,(0,o.zw)(i.resultWeather.hourly.temperature_2m[this.currentHours])+"°",1)]),(0,a._)("p",O,"Feels like "+(0,o.zw)(i.resultWeather.hourly.apparent_temperature[this.currentHours])+"°",1)])):(0,a.kq)("",!0)]),i.resultWeather?((0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("div",L,[j,(0,a._)("p",null,(0,o.zw)(i.resultWeather.hourly.windspeed_10m[this.currentHours])+" "+(0,o.zw)(i.resultWeather.hourly_units.windspeed_10m),1)]),(0,a._)("div",I,[S,(0,a._)("p",null,(0,o.zw)(i.resultWeather.hourly.relativehumidity_2m[this.currentHours])+" "+(0,o.zw)(i.resultWeather.hourly_units.relativehumidity_2m),1)]),(0,a._)("div",q,[P,(0,a._)("p",null,(0,o.zw)(i.resultWeather.hourly.surface_pressure[this.currentHours])+" "+(0,o.zw)(i.resultWeather.hourly_units.surface_pressure),1)])])):(0,a.kq)("",!0)]),i.errorStr?((0,a.wg)(),(0,a.iD)("div",x," Sorry, but the following error occurred: "+(0,o.zw)(i.errorStr),1)):(0,a.kq)("",!0),i.gettingLocation?((0,a.wg)(),(0,a.iD)("div",B,$)):(0,a.kq)("",!0)])}var G={name:"WeatherBlock",data(){return{date:null,currentHours:null,location:null,city:null,gettingLocation:!1,errorStr:null,loadedWeather:!1,resultWeather:null,iconName:"",weatherCodeIcon:{sunny:[0],partly_cloudy_day:[1,2],clear_night:[0],nights_stay:[1,2],cloudy:[3],rainy:[45,48,51,53,55,56,57,61,63,65,66,67,80,81,82],thunderstorm:[95,96,99],cloudy_snowing:[71,73,75,77,85,86]}}},methods:{async getLocation(){return new Promise(((e,t)=>{"geolocation"in navigator||t(new Error("Geolocation is not available.")),navigator.geolocation.getCurrentPosition((t=>{e(t)}),(e=>{console.log(e),t(e)}))}))},async getData(){let e=new Date;return this.currentHours=e.getHours(),this.gettingLocation=!0,new Promise(((e,t)=>{let r=this.getLocation();r?e(r):t(new Error("Geolocation is not available."))})).then((e=>{this.gettingLocation=!1,this.loadedWeather=!0,this.location=e,this.getCityByCoords(),this.getWeatherData(),this.getWeatherIcon()}),(e=>{this.gettingLocation=!1,this.loadedWeather=!0,this.errorStr=e.message}))},getCityByCoords(){fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${this.location.coords.latitude}&longitude=${this.location.coords.longitude}&localityLanguage=en`).then((e=>e.json())).then((e=>this.city=e.city))},getWeatherData(){fetch(`https://api.open-meteo.com/v1/forecast?latitude=${this.location.coords.latitude}&longitude=${this.location.coords.longitude}&hourly=temperature_2m,relativehumidity_2m,windspeed_10m,surface_pressure,apparent_temperature,weathercode&models=best_match&daily=weathercode&timezone=auto`).then((e=>e.json())).then((e=>this.resultWeather=e)).then((e=>this.getWeatherIcon(e.hourly.weathercode[this.currentHours]))).then(this.loadedWeather=!0)},getWeatherIcon(e){let t="";for(let r in this.weatherCodeIcon)this.weatherCodeIcon[r].includes(e)&&(t=r);this.iconName=t}},created(){this.getData()}};const Z=(0,g.Z)(G,[["render",E],["__scopeId","data-v-068a5bc4"]]);var F=Z,T={name:"App",components:{CurrentDate:w,WeatherCard:F},computed:{timeOfDay:function(){let e=new Date,t=e.getHours(),r=[21,22,23,0,1,2,3,4,5],n=[6,7,8,9,10],a=[11,12,13,14,15,16];return r.includes(t)?"night":n.includes(t)?"morning":a.includes(t)?"day":"evening"}}};const A=(0,g.Z)(T,[["render",s]]);var M=A;(0,n.ri)(M).mount("#app")}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,n,a,o){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],o=e[c][2];for(var s=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,a,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,i=n[0],s=n[1],l=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(l)var c=l(r)}for(t&&t(n);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},n=self["webpackChunkweather_app_vue"]=self["webpackChunkweather_app_vue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(7203)}));n=r.O(n)})();
//# sourceMappingURL=app.9b6ece11.js.map