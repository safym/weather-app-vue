(function(){"use strict";var e={1334:function(e,t,r){var a=r(9242),n=r(3396),o=r(7139);function s(e,t,r,a,s,i){const u=(0,n.up)("CurrentDate"),l=(0,n.up)("MainWeatherWrapper");return(0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)("app-wrapper "+i.timeOfDay)},[(0,n.Wm)(u),(0,n.Wm)(l)],2)}const i=e=>((0,n.dD)("data-v-bb455a28"),e=e(),(0,n.Cn)(),e),u={class:"dateBlock"},l=i((()=>(0,n._)("span",{class:"material-symbols-outlined"}," calendar_month ",-1))),c={class:"date"};function h(e,t,r,a,s,i){return(0,n.wg)(),(0,n.iD)("div",u,[l,(0,n._)("div",c,(0,o.zw)(this.currentDate.toLocaleString("en-us",{weekday:"long"}))+" "+(0,o.zw)(this.currentDate.getDate())+" "+(0,o.zw)(this.currentDate.toLocaleString("en-us",{month:"long"})),1)])}var d={name:"CurrentDate",data(){return{currentDate:null}},methods:{setCurrentDate(){this.currentDate=new Date}},created(){this.setCurrentDate()}},p=r(89);const g=(0,p.Z)(d,[["render",h],["__scopeId","data-v-bb455a28"]]);var y=g;const m={class:"main-wrapper"};function w(e,t,r,a,o,s){const i=(0,n.up)("WeatherNowCard"),u=(0,n.up)("WeatherForecastCard"),l=(0,n.up)("LoadingWrapper"),c=(0,n.up)("ErrorWrapper");return(0,n.wg)(),(0,n.iD)("div",m,[o.resultWeather?((0,n.wg)(),(0,n.j4)(i,{key:0,resultWeather:this.resultWeather,city:this.city,currentHours:this.currentHours},null,8,["resultWeather","city","currentHours"])):(0,n.kq)("",!0),o.resultWeather?((0,n.wg)(),(0,n.j4)(u,{key:1,resultWeather:this.resultWeather},null,8,["resultWeather"])):(0,n.kq)("",!0),o.gettingLocation?((0,n.wg)(),(0,n.j4)(l,{key:2})):(0,n.kq)("",!0),o.errorStr?((0,n.wg)(),(0,n.j4)(c,{key:3})):(0,n.kq)("",!0)])}const _=e=>((0,n.dD)("data-v-702c173c"),e=e(),(0,n.Cn)(),e),v={class:"now-wrapper card"},f={key:0,class:"block-left"},W={key:0,class:"location-block"},D=_((()=>(0,n._)("span",{class:"material-symbols-outlined"}," near_me ",-1))),b={class:"temperature-block"},k={class:"temperature-wrapper"},H={class:"main-weather-icon material-symbols-outlined"},C={class:"temperature"},z={class:"temperature-apparent"},L={key:1,className:"block-right"},O={class:"wind-block"},j=_((()=>(0,n._)("span",{class:"material-symbols-outlined"}," air ",-1))),I={class:"humidity-block"},N=_((()=>(0,n._)("span",{class:"material-symbols-outlined"}," humidity_low ",-1))),q={class:"pressure-block"},S=_((()=>(0,n._)("span",{class:"material-symbols-outlined"}," arrow_circle_up ",-1)));function F(e,t,r,a,s,i){return(0,n.wg)(),(0,n.iD)("div",v,[r.resultWeather?((0,n.wg)(),(0,n.iD)("div",f,[r.city?((0,n.wg)(),(0,n.iD)("div",W,[D,(0,n._)("p",null,(0,o.zw)(r.city),1)])):(0,n.kq)("",!0),(0,n._)("div",b,[(0,n._)("div",k,[(0,n._)("span",H,(0,o.zw)(this.getWeatherIcon(this.resultWeather.hourly.weathercode[r.currentHours])),1),(0,n._)("p",C,(0,o.zw)(r.resultWeather.hourly.temperature_2m[r.currentHours])+"째",1)]),(0,n._)("p",z,"Feels like "+(0,o.zw)(r.resultWeather.hourly.apparent_temperature[r.currentHours])+"째",1)])])):(0,n.kq)("",!0),r.resultWeather?((0,n.wg)(),(0,n.iD)("div",L,[(0,n._)("div",O,[j,(0,n._)("p",null,(0,o.zw)(r.resultWeather.hourly.windspeed_10m[r.currentHours])+" "+(0,o.zw)(r.resultWeather.hourly_units.windspeed_10m),1)]),(0,n._)("div",I,[N,(0,n._)("p",null,(0,o.zw)(r.resultWeather.hourly.relativehumidity_2m[r.currentHours])+" "+(0,o.zw)(r.resultWeather.hourly_units.relativehumidity_2m),1)]),(0,n._)("div",q,[S,(0,n._)("p",null,(0,o.zw)(r.resultWeather.hourly.surface_pressure[r.currentHours])+" "+(0,o.zw)(r.resultWeather.hourly_units.surface_pressure),1)])])):(0,n.kq)("",!0)])}var Z={name:"WeatherNowCard",props:["resultWeather","city","currentHours","iconName"],methods:{getWeatherIcon(e){let t={sunny:[0],partly_cloudy_day:[1,2],clear_night:[0],nights_stay:[1,2],cloudy:[3],rainy:[45,48,51,53,55,56,57,61,63,65,66,67,80,81,82],thunderstorm:[95,96,99],cloudy_snowing:[71,73,75,77,85,86]},r="";for(let a in t)t[a].includes(e)&&(r=a);return r}}};const E=(0,p.Z)(Z,[["render",F],["__scopeId","data-v-702c173c"]]);var P=E;const x={key:0,class:"forecast-wrapper"},M={class:"forecast-date"},$={class:"forecast-weather"},B={class:"material-symbols-outlined"},G={class:"forecast-temp"},T={class:"forecast-temp-night"};function A(e,t,r,a,s,i){return r.resultWeather?((0,n.wg)(),(0,n.iD)("div",x,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(this.daysForecast,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"forecast card",key:e},[(0,n._)("div",M,(0,o.zw)(new Date(r.resultWeather.hourly.time[this.startingHoursDay=this.startingHoursDay+24]).getDate())+" "+(0,o.zw)(new Date(r.resultWeather.hourly.time[this.startingHoursNight=this.startingHoursNight+24]).toLocaleString("en-us",{month:"short"})),1),(0,n._)("div",$,[(0,n._)("span",B,(0,o.zw)(this.getWeatherIcon(this.resultWeather.hourly.weathercode[this.startingHoursDay])),1),(0,n._)("div",G,[(0,n._)("div",null,(0,o.zw)(r.resultWeather.hourly.temperature_2m[this.startingHoursDay])+"째",1),(0,n._)("div",T,(0,o.zw)(r.resultWeather.hourly.temperature_2m[this.startingHoursNight])+"째",1)])])])))),128))])):(0,n.kq)("",!0)}var K={name:"WeatherForecastCard",props:["resultWeather"],methods:{getWeatherIcon(e){let t={sunny:[0],partly_cloudy_day:[1,2],nights_stay:[1,2],cloudy:[3],rainy:[45,48,51,53,55,56,57,61,63,65,66,67,80,81,82],thunderstorm:[95,96,99],cloudy_snowing:[71,73,75,77,85,86]},r="";for(let a in t)t[a].includes(e)&&(r=a);return r}},created(){this.startingHoursDay=12,this.startingHoursNight=24,this.daysForecast=3}};const Y=(0,p.Z)(K,[["render",A],["__scopeId","data-v-74b5bee3"]]);var J=Y;const Q=e=>((0,n.dD)("data-v-66d6f5f2"),e=e(),(0,n.Cn)(),e),R={class:"loading-wrapper card"},U=Q((()=>(0,n._)("p",{class:"loading"},"Getting your location",-1))),V=[U];function X(e,t,r,a,o,s){return(0,n.wg)(),(0,n.iD)("div",R,V)}var ee={name:"LoadingWrapper"};const te=(0,p.Z)(ee,[["render",X],["__scopeId","data-v-66d6f5f2"]]);var re=te;const ae={class:"error card"};function ne(e,t,r,a,s,i){return(0,n.wg)(),(0,n.iD)("div",ae," Sorry, but the following error occurred: "+(0,o.zw)(e.errorStr),1)}var oe={name:"ErrorWrapper"};const se=(0,p.Z)(oe,[["render",ne],["__scopeId","data-v-545d5631"]]);var ie=se,ue={name:"MainWeatherWrapper",components:{WeatherNowCard:P,WeatherForecastCard:J,LoadingWrapper:re,ErrorWrapper:ie},data(){return{date:null,currentHours:null,location:null,city:null,gettingLocation:!1,errorStr:null,loadedWeather:!1,resultWeather:null}},methods:{async getLocation(){return new Promise(((e,t)=>{"geolocation"in navigator||t(new Error("Geolocation is not available.")),navigator.geolocation.getCurrentPosition((t=>{e(t)}),(e=>{console.log(e),t(e)}))}))},async getData(){let e=new Date;return this.currentHours=e.getHours(),this.gettingLocation=!0,new Promise(((e,t)=>{let r=this.getLocation();r?e(r):t(new Error("Geolocation is not available."))})).then((e=>{this.gettingLocation=!1,this.loadedWeather=!0,this.location=e,this.getCityByCoords(),this.getWeatherData()}),(e=>{this.gettingLocation=!1,this.loadedWeather=!0,this.errorStr=e.message}))},getCityByCoords(){fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${this.location.coords.latitude}&longitude=${this.location.coords.longitude}&localityLanguage=en`).then((e=>e.json())).then((e=>this.city=e.city))},getWeatherData(){fetch(`https://api.open-meteo.com/v1/forecast?latitude=${this.location.coords.latitude}&longitude=${this.location.coords.longitude}&hourly=temperature_2m,relativehumidity_2m,windspeed_10m,surface_pressure,apparent_temperature,weathercode&models=best_match&daily=weathercode&timezone=auto`).then((e=>e.json())).then((e=>{this.resultWeather=e,console.log(e)})).then(this.loadedWeather=!0)}},created(){this.getData()}};const le=(0,p.Z)(ue,[["render",w],["__scopeId","data-v-29f94d69"]]);var ce=le,he={name:"App",components:{CurrentDate:y,MainWeatherWrapper:ce},computed:{timeOfDay:function(){let e=new Date,t=e.getHours(),r=[21,22,23,0,1,2,3,4,5],a=[6,7,8,9,10],n=[11,12,13,14,15,16];return r.includes(t)?"night":a.includes(t)?"morning":n.includes(t)?"day":"evening"}}};const de=(0,p.Z)(he,[["render",s]]);var pe=de;(0,a.ri)(pe).mount("#app")}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,a,n,o){if(!a){var s=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],o=e[c][2];for(var i=!0,u=0;u<a.length;u++)(!1&o||s>=o)&&Object.keys(r.O).every((function(e){return r.O[e](a[u])}))?a.splice(u--,1):(i=!1,o<s&&(s=o));if(i){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,n,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,s=a[0],i=a[1],u=a[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(u)var c=u(r)}for(t&&t(a);l<s.length;l++)o=s[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},a=self["webpackChunkweather_app_vue"]=self["webpackChunkweather_app_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(1334)}));a=r.O(a)})();
//# sourceMappingURL=app.57b507e1.js.map